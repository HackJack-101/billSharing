<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<div>
	<h1 class="title-form">Création d'un groupe</h1>
	
	<form id="addGroupForm" name="addGroupForm" ng-submit="submit()">
	  <md-input-container class="md-block">
	    <label>Nom du groupe :</label>
	    <md-icon md-svg-src="img/group.svg" style="color: #2980b9;"></md-icon>
	    <input md-maxlength="250" type="text" name="name" ng-model="addGroup.name" ng-required="true">
	    <div ng-messages="addGroupForm.name.$error">
	      <div ng-message="required">Nom du groupe manquant.</div>
	    </div>
	  </md-input-container>
	  
	  <br />
	  
	  <h2 style="color: #2980b9;">Des amis à ajouter ?</h2>
	  <md-autocomplete
	  	  id="inputAddFriend"
	  	  name="inputAddFriend"
	      ng-disabled="false"
	      md-no-cache="false"
	      md-selected-item="ctrl.selectedItem"
	      md-search-text-change="ctrl.searchTextChange(ctrl.searchText)"
	      md-search-text="ctrl.searchText"
	      md-selected-item-change="ctrl.selectedItemChange(friend)"
	      md-items="friend in ctrl.querySearch(ctrl.searchText)"
	      md-item-text="friend.display"
	      md-min-length="0"
	      placeholder="Nom ou prénom de votre ami">
	    <md-item-template>
	      <span md-highlight-text="ctrl.searchText" md-highlight-flags="^i">{{friend.display}}</span>
	    </md-item-template>
	    <md-not-found>
	      Aucun ami "{{ctrl.searchText}}" a été trouvé.
	      <a href="/#/addfriend">Inviter cette personne ?</a>
	    </md-not-found>
	  </md-autocomplete>
	  
	  <md-button class="md-primary addGroupFriend-form-button" style="color: #2980b9;"
	  		ng-click="$('inputAddFriend').clone().appendTo('addGroupForm');">
	    <md-icon md-svg-src="img/plus.svg" style="color: #2980b9; width:15px;"></md-icon>
	    <span style="color: #2980b9; font-size:smaller;">Ajouter un autre ami</span>
	  </md-button>
	  
	  <br />
	  
	  <md-switch ng-model="addGroup.debts" aria-label="Dettes rapides" ng-true-value="'Activé'" ng-false-value="'Désactivé'">
        <span style="color: #2980b9;">Dettes rapides ? {{ ctrl.dettes }}</span>
      </md-switch>
      
      <br />
      
      <div layout="row" layout-align="center center">
	    <md-button class="md-primary addGroup-form-button" ng-disabled="addGroupForm.$invalid" style="background-color: #2bbe69;">
	      <md-icon md-svg-src="img/check.svg" style="color: white;"></md-icon>
	      <span style="color: white; font-size:large;">Valider</span>
	    </md-button>
	  </div>
	</form>
</div>